<div class="lesson-article">
  <h2 class="article-title">检查括号是否合法</h2>
  <h3>问题描述:</h3>
  <p>
    给定一个只包含括号 '(', ')', '{', '}', '[' 和 ']'的字符串，设计一个算法用来确定输入字符串
    中包含的括号是否合法。
  </p>
  <p>
    满足以下条件的字符串是合法的:
  </p>
  <ul>
    <li>开括号必须用同一类型的括号关闭。</li>
    <li>打开的括号必须按正确的顺序闭合。</li>
    <li>空字符串也被认为是合法的。</li>
  </ul>

  <h3>例子:</h3>
  <pre>
    输入: "()"
    输出: true
  </pre>
  <pre>
    输入: "()[]{}"
    输出: true
  </pre>
  <pre>
    输入: "(}"
    输出: false
  </pre>
  <pre>
    输入: "([]{})"
    输出: true
  </pre>
  <pre>
    输入: "([{}])"
    输出: true
  </pre>
  <pre>
    输入: "([)]"
    输出: false
  </pre>

  <h3>分析:</h3>
  <p>从头开始对字符串中的每个字符进行处理。这里的字符只有两种类型: 开括号和闭括号。
    <ul>
      <li>如果是开括号, 我们先把它压入stack堆栈;</li>
      <li>如果是闭括号, 我们就需要检查与它最靠近的前一个开括号是否存在, 并且能与它配对;</li>
    </ul>
  </p>
  <p>除此之外, 我们可以使用 Python 字典来方便我们找出一个闭括号对应的开括号。</p>

  <h3>实现代码:</h3>
  <pre>
def check_parentheses(s):
    # 使用字典数据结构用来查询一个闭括号对应的开括号
    m = {')': '(', ']': '[', '}': '{'}
    # 使用Python列表来模拟堆栈数据结构
    stack = []
    for c in s:
        if c == '(' or c == '[' or c == '{': # 当前括号为开括号
            stack.append(c)
        else: # 当前括号为闭括号
            if stack == []:
                return False
            open_bracket = stack.pop()
            if m[c] != open_bracket: # m[c]为当前闭括号应该对应的开括号
                return False
    # 在处理完所有的字符之后, 还应该检查堆栈里是否有多余的开括号
    return stack == []
  </pre>

</div>
